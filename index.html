<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Hub</title>
    <link rel="icon" type="image/png" href="https://fiverr-res.cloudinary.com/image/upload/f_png,q_auto,t_makers_project_variation_preview/v1/secured-attachments/makers_project_variation/preview_file/8cef1190b19c6094e8c6e12490618641-1720427001/668b9ed5742dc6450ca6731a.svg?__cld_token__=exp=1732246613~hmac=d0be7fecfcb0b65fff83ebdb6af4530b43b8285692720b89273fd0729a2838f6">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>

<!-- Login Section -->
<div id="login-section">
    <h2>Login</h2>
    <label for="username">Username:</label>
    <input type="text" id="username" placeholder="Enter your username">
    <label for="password">Password:</label>
    <input type="password" id="password" placeholder="Enter your password">
    <button onclick="login()">Login</button>
    <p id="login-error" style="color: red; display: none;">Invalid credentials. Please try again.</p>

    <!-- Create Username and Password Dropdown -->
    <div>
        <button onclick="showCreateAccountForm()">Create a new username and password</button>
        <div id="create-account-form" style="display: none;">
            <label for="new-username">New Username:</label>
            <input type="text" id="new-username" placeholder="Create a username">
            <label for="new-password">New Password:</label>
            <input type="password" id="new-password" placeholder="Create a password">
            <button onclick="createAccount()">Create Account</button>
            <p id="account-error" style="color: red; display: none;">Please fill in both fields.</p>
        </div>
    </div>
</div>

<!-- Home Section (After login) -->
<div id="home-section" style="display: none;">
    <h2>Welcome to Space Hub</h2>
    <button onclick="showSection('event-planner')">Event Planner</button>
    <button onclick="showSection('links-section')">Saved Links</button>
    <button onclick="showSection('passwords-section')">Password Saver</button>
    <div id="event-planner" style="display: none;">
        <h3>Saved Events</h3>
        <input type="text" id="event-input" placeholder="Add a new event">
        <input type="date" id="event-date">
        <button onclick="addEvent()">Add Event</button>
        <ul id="events-list"></ul>
    </div>
    <div id="links-section" style="display: none;">
        <h3>Saved Links</h3>
        <input type="text" id="link-input" placeholder="Add a new link">
        <button onclick="addLink()">Add Link</button>
        <ul id="links-list"></ul>
    </div>
    <div id="passwords-section" style="display: none;">
        <h3>Saved Passwords</h3>
        <input type="text" id="password-app" placeholder="Website or App Name">
        <input type="password" id="password-input" placeholder="Add a new password">
        <button onclick="addPassword()">Add Password</button>
        <ul id="passwords-list"></ul>
    </div>
</div>

<script>
// Function to login
function login() {
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    const accounts = JSON.parse(localStorage.getItem('accounts')) || [];
    const account = accounts.find(acc => acc.username === username && acc.password === password);

    if (account) {
        document.getElementById('login-section').style.display = 'none';
        document.getElementById('home-section').style.display = 'block';
        loadSavedLinks(); // Load saved links after successful login
        loadSavedPasswords(); // Load saved passwords
        loadSavedEvents(); // Load saved events
    } else {
        const errorElement = document.getElementById('login-error');
        errorElement.style.display = 'block';
        errorElement.textContent = 'Invalid credentials. Please try again.';
    }
}

// Function to show the create account form
function showCreateAccountForm() {
    document.getElementById('create-account-form').style.display = 'block';
}

// Function to create a new username and password
function createAccount() {
    const newUsername = document.getElementById('new-username').value.trim();
    const newPassword = document.getElementById('new-password').value.trim();

    if (newUsername && newPassword) {
        const accounts = JSON.parse(localStorage.getItem('accounts')) || [];
        // Check if the username already exists
        if (accounts.some(acc => acc.username === newUsername)) {
            alert('Username already exists. Please choose a different one.');
        } else {
            accounts.push({ username: newUsername, password: newPassword });
            localStorage.setItem('accounts', JSON.stringify(accounts));

            // Hide the create account form after saving
            document.getElementById('create-account-form').style.display = 'none';
            alert('Account created successfully!');
        }
    } else {
        const errorElement = document.getElementById('account-error');
        errorElement.style.display = 'block';
        errorElement.textContent = 'Please fill in both fields.';
    }
}

// Function to display sections
function showSection(section) {
    const sections = ['event-planner', 'links-section', 'passwords-section'];
    sections.forEach((sec) => {
        document.getElementById(sec).style.display = (sec === section) ? 'block' : 'none';
    });
}

// Function to load saved links
function loadSavedLinks() {
    const links = JSON.parse(localStorage.getItem('savedLinks')) || [];
    const linksList = document.getElementById('links-list');
    linksList.innerHTML = '';
    links.forEach((link, index) => {
        const li = document.createElement('li');
        li.textContent = link;
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = function() {
            deleteLink(index);
        };
        li.appendChild(deleteButton);
        linksList.appendChild(li);
    });
}

// Function to load saved passwords
function loadSavedPasswords() {
    const passwords = JSON.parse(localStorage.getItem('savedPasswords')) || [];
    const passwordsList = document.getElementById('passwords-list');
    passwordsList.innerHTML = '';
    passwords.forEach((password, index) => {
        const li = document.createElement('li');
        li.textContent = `${password.app}: ${password.password}`;
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = function() {
            deletePassword(index);
        };
        li.appendChild(deleteButton);
        passwordsList.appendChild(li);
    });
}

// Function to load saved events
function loadSavedEvents() {
    const events = JSON.parse(localStorage.getItem('savedEvents')) || [];
    const eventsList = document.getElementById('events-list');
    eventsList.innerHTML = '';
    events.forEach((event, index) => {
        const li = document.createElement('li');
        li.textContent = `${event.name} on ${event.date}`;
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = function() {
            deleteEvent(index);
        };
        li.appendChild(deleteButton);
        eventsList.appendChild(li);
    });
}

// Function to add a link
function addLink() {
    const linkInput = document.getElementById('link-input');
    const newLink = linkInput.value.trim();
    if (newLink) {
        let savedLinks = JSON.parse(localStorage.getItem('savedLinks')) || [];
        savedLinks.push(newLink);
        localStorage.setItem('savedLinks', JSON.stringify(savedLinks));
        loadSavedLinks(); // Refresh the list
        linkInput.value = ''; // Clear the input
    }
}

// Function to add a password
function addPassword() {
    const appInput = document.getElementById('password-app');
    const passwordInput = document.getElementById('password-input');
    const appName = appInput.value.trim();
    const password = passwordInput.value.trim();

    if (appName && password) {
        let savedPasswords = JSON.parse(localStorage.getItem('savedPasswords')) || [];
        savedPasswords.push({ app: appName, password: password });
        localStorage.setItem('savedPasswords', JSON.stringify(savedPasswords));
        loadSavedPasswords(); // Refresh the list
        appInput.value = ''; // Clear the input
        passwordInput.value = ''; // Clear the input
    }
}

// Function to add an event
function addEvent() {
    const eventInput = document.getElementById('event-input');
    const eventDate = document.getElementById('event-date');
    const newEvent = eventInput.value.trim();
    const newDate = eventDate.value;

    if (newEvent && newDate) {
        let savedEvents = JSON.parse(localStorage.getItem('savedEvents')) || [];
        savedEvents.push({ name: newEvent, date: newDate });
        localStorage.setItem('savedEvents', JSON.stringify(savedEvents));
        loadSavedEvents(); // Refresh the list
        eventInput.value = ''; // Clear the input
        eventDate.value = ''; // Clear the date
    }
}

// Function to delete a link
function deleteLink(index) {
    let savedLinks = JSON.parse(localStorage.getItem('savedLinks')) || [];
    savedLinks.splice(index, 1);
    localStorage.setItem('savedLinks', JSON.stringify(savedLinks));
    loadSavedLinks(); // Refresh the list
}

// Function to delete a password
function deletePassword(index) {
    let savedPasswords = JSON.parse(localStorage.getItem('savedPasswords')) || [];
    savedPasswords.splice(index, 1);
    localStorage.setItem('savedPasswords', JSON.stringify(savedPasswords));
    loadSavedPasswords(); // Refresh the list
}

// Function to delete an event
function deleteEvent(index) {
    let savedEvents = JSON.parse(localStorage.getItem('savedEvents')) || [];
    savedEvents.splice(index, 1);
    localStorage.setItem('savedEvents', JSON.stringify(savedEvents));
    loadSavedEvents(); // Refresh the list
}
</script>

</body>
</html>
